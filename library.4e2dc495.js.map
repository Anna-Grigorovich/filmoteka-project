{"mappings":"oeAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,aAEA,MAAME,EAAaC,SAASC,cAAc,YACpCC,EAAaF,SAASC,cAAc,gBACpCE,EAAWH,SAASC,cAAc,UA0BjC,SAASG,EAAoBC,GAClC,OAAOA,EACJC,KAAIC,IACH,MAAMC,EAASD,EAAMC,OACfC,EAAa,GACnBD,EAAOF,KAAII,GAASD,EAAWE,KAAKD,EAAME,QAC1C,MAAMC,EAAYJ,EAAWK,KAAK,KAC5BC,EAAS,mCAAmCR,EAAMS,cACxD,MAAO,+CAC+BT,EAAMU,6GAG/BF,uBACDR,EAAMW,OAASX,EAAMK,+IAKJL,EAAMW,OAASX,EAAMK,gDACnBC,SAC7BN,EAAMY,cAAgBZ,EAAMa,gBAC5BC,MAAM,EAAG,qCAEL,IAEPP,KAAK,G,CAjDVf,EAAWuB,iBAAiB,SAG5BC,eAAkCC,GAChCA,EAAEC,iBACFvB,EAAWwB,UAAY,GAEvB,MAAMC,GAAQ,EAAAC,EAAAC,kBAAiB,WAEzBC,EAAS1B,QADS,EAAAN,EAAAiC,kBAAiBJ,IAGzCzB,EAAW8B,mBAAmB,YAAaF,E,IAV7C3B,EAASmB,iBAAiB,SAa1BC,eAAgCC,GAC9BA,EAAEC,iBACFvB,EAAWwB,UAAY,GACvB,MAAMC,GAAQ,EAAAC,EAAAC,kBAAiB,SAEzBC,EAAS1B,QADS,EAAAN,EAAAiC,kBAAiBJ,IAGzCzB,EAAW8B,mBAAmB,YAAaF,E","sources":["src/library.js","src/js-partials/create-library-markup.js"],"sourcesContent":["import './js-partials/local';\nimport './js-partials/create-library-markup';\nimport './js-partials/open-and-close-modal';\n\n// import './index';\n// import './js-partials/library-open-close';\n","import { getArrayofMovies } from './api';\nimport { getLocalStoradge } from './local';\nconst libraryBtn = document.querySelector('.watched');\nconst galleryLib = document.querySelector('#gallery-lib');\nconst queueBtn = document.querySelector('.queue');\n\nlibraryBtn.addEventListener('click', handleLibraryClick);\nqueueBtn.addEventListener('click', handleQueueClick);\n\nasync function handleLibraryClick(e) {\n  e.preventDefault();\n  galleryLib.innerHTML = '';\n\n  const idArr = getLocalStoradge('watched');\n  const movieData = await getArrayofMovies(idArr);\n  const markup = createLibraryMarkup(movieData);\n\n  galleryLib.insertAdjacentHTML('beforeend', markup);\n}\n\nasync function handleQueueClick(e) {\n  e.preventDefault();\n  galleryLib.innerHTML = '';\n  const idArr = getLocalStoradge('queue');\n  const movieData = await getArrayofMovies(idArr);\n  const markup = createLibraryMarkup(movieData);\n\n  galleryLib.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function createLibraryMarkup(movie) {\n  return movie\n    .map(movie => {\n      const genres = movie.genres;\n      const genresName = [];\n      genres.map(genre => genresName.push(genre.name));\n      const genresStr = genresName.join(' ');\n      const poster = `https://image.tmdb.org/t/p/w500/${movie.poster_path}`;\n      return `\n      <li class=\"movie__card\" data-movie=\"${movie.id}\">\n        <div class=\"movie__thumb\">        \n            <img class=\"movie__image\"\n            src=\"${poster}\"\n            alt=${movie.title ?? movie.name}\n            loading=\"lazy\"\n            />      \n        </div>\n        <div class=\"movie__info\">\n          <p class=\"movie__name\">${movie.title ?? movie.name}</p>\n          <p class=\"movie__descr\"> ${genresStr}  | ${(\n        movie.release_date ?? movie.first_air_date\n      ).slice(0, 4)}</p>\n        </div>\n      </li>`;\n    })\n    .join('');\n}\n"],"names":["parcelRequire","$6hZYo","$fa05c40622fa967d$var$libraryBtn","document","querySelector","$fa05c40622fa967d$var$galleryLib","$fa05c40622fa967d$var$queueBtn","$fa05c40622fa967d$export$cf41565f85ca117a","movie1","map","movie","genres","genresName","genre","push","name","genresStr","join","poster","poster_path","id","title","release_date","first_air_date","slice","addEventListener","async","e","preventDefault","innerHTML","idArr","$eEws3","getLocalStoradge","markup","getArrayofMovies","insertAdjacentHTML"],"version":3,"file":"library.4e2dc495.js.map"}